#N canvas 514 62 1068 775 12;
#N canvas 0 0 306 236 (subpatch) 0;
#X array array1 256 float 1;
#A 0 1707 727 2101 1049 941 1319 711 797 766 483 514 393 258 229 116 35 -20 -107 -169 -230 -297 -350 -405 -458 -504 -549 -592 -630 -667 -701 2853 2372 723 869 -2319 -2238 1101 -303 82 1828 -1327 95 3286 766 768 732 -3150 -2279 753 -765 -66 1485 -1614 -102 1859 -2065 -37 1945 -2268 35 1897 -2357 58 1852 -2382 57 1816 -2396 47 1794 -3556 -2580 1174 -987 -62 1667 -1700 -1 1953 -2032 79 2016 -3349 -2465 1399 -809 94 1857 -1541 164 2128 -1871 243 2178 -3186 -2294 1553 -668 242 2002 -1401 304 2262 -1741 -106 1222 -3294 -2275 1163 1626 2128 952 -446 149 -1349 -1988 918 344 -889 -586 -2128 188 3168 1130 4 614 -1247 -1631 1216 299 -1162 -484 -935 1951 3708 463 -153 805 -1188 -1450 1296 -522 -3078 -899 -883 -647 3065 2288 -701 754 118 -1430 1659 183 -2928 -464 -467 -415 3438 2583 -449 1047 354 -1201 1887 376 -2736 -285 -312 -266 3575 2704 -338 1145 440 -1124 1954 432 -2693 -249 -282 -245 3586 2706 -344 1133 419 -1152 1920 393 -2738 -301 1548 23 -3101 -645 -679 -671 3145 2272 -783 692 -11 -1592 1464 -62 -3176 -719 -773 -766 3070 2194 -864 609 -113 -1683 1411 -108 -2123 1750 -257 -2219 3106 2247 -1616 589 -333 -2108 1312 -389 -2366 1633 -479 -2417 2936 2046 -1788 436 -472 -2236 1155 -544 -2494 1516 -591 -2534 2824 1959 -1867 350 -553 -2307 1086 507 6 3204;
#X obj 1 1 cnv 20 510 318 empty empty empty 20 12 0 12 #c6ffc7 #404040 0;
#X coords 0 -2000 255 2000 512 320 1 0 0;
#X restore 29 21 graph;
#X text 809 21 open the serial port by name;
#X msg 683 56 close;
#X text 679 22 Close Serial port;
#X obj 803 478 tabwrite array1;
#X obj 683 131 comport 1 115200;
#X obj 842 351 f;
#X obj 873 352 + 1;
#X floatatom 846 414 5 0 0 0 - - - 0;
#X obj 842 322 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 810 77 devicename /dev/ttyACM0;
#X msg 811 48 devicename /dev/ttyACM1;
#X obj 845 386 % 256;
#X obj 992 240 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 557 97 vu 40 240 loud empty 35 8 0 8 #000000 #000000 0 0;
#X obj 556 71 * -1;
#X obj 556 47 - 90, f 6;
#X obj 915 392 line 0 10;
#X obj 916 425 s vol;
#X floatatom 1005 306 5 0 0 0 - - - 0;
#X obj 912 240 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 958 307 5 0 0 0 - - - 0;
#X obj 903 308 * 0.01;
#X obj 168 617 cos~;
#X floatatom 158 405 4 0 200 0 - - - 0;
#X obj 158 428 / 10;
#X floatatom 102 447 4 0 0 0 - - - 0;
#X text 50 406 fundamental;
#X text 48 424 (= mod freq);
#X text 234 415 index;
#X text 234 435 (percent);
#X floatatom 234 456 4 0 500 0 - - - 0;
#X obj 234 525 line~;
#X obj 186 559 *~;
#X obj 234 479 / 100;
#X obj 234 502 pack 0 50;
#X obj 168 594 +~;
#X text 222 551 modulating;
#X text 222 566 oscillator;
#X obj 172 706 output~;
#X obj 241 611 bng 19 250 50 0 empty empty empty 0 -6 0 8 #dfdfdf #000000 #000000;
#X obj 261 638 tgl 19 0 empty empty empty 0 -6 0 8 #dfdfdf #000000 #000000 0 1;
#N canvas 0 0 450 300 (subpatch) 0;
#X array F11-spectrum 259 float 0;
#X coords 0 0.51 258 -0.008 256 130 1;
#X restore 318 388 graph;
#X text 305 527 0;
#X text 367 537 -- frequency --;
#X text 542 532 2700;
#X obj 158 477 *;
#X obj 158 454 t b f;
#X obj 186 530 osc~;
#X obj 123 551 phasor~;
#X text 65 544 carrier;
#X text 44 559 oscillator;
#X text 137 348 center freq. (in tenths of fundamental), f 13;
#N canvas 605 126 534 605 fft 0;
#X obj 95 134 inlet~;
#X obj 209 404 inlet;
#X obj 95 266 rfft~;
#X obj 95 299 *~;
#X obj 127 299 *~;
#X obj 127 330 sqrt~;
#X obj 337 244 block~ 4096 1;
#X obj 127 356 biquad~ 0 0 0 0 1;
#X text 159 267 Fourier series;
#X text 173 318 magnitude;
#X text 173 303 calculate;
#X text 52 23 This subpatch computes the spectrum of the incoming signal with a (rectangular windowed) FFT. FFTs aren't properly introduced until much later.;
#X text 88 99 signal to analyze, f 9;
#X text 256 351 delay two samples;
#X text 254 369 for better graphing;
#X obj 202 129 samplerate~;
#X obj 236 463 metro 500;
#X obj 236 440 inlet;
#X text 284 438 toggle to graph repeatedly;
#X text 253 405 bang to graph once;
#X obj 127 380 /~ 4096;
#X obj 202 104 bang~;
#X msg 210 534 \; pd dsp 1;
#X obj 202 152 / 4096;
#X obj 113 184 osc~;
#X obj 113 212 +~ 1;
#X obj 95 237 *~;
#X text 157 197 hanning window;
#X obj 164 142 0.5;
#X obj 236 501 tabwrite~ F11-spectrum;
#X connect 0 0 26 0;
#X connect 1 0 22 0;
#X connect 1 0 29 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 20 0;
#X connect 15 0 23 0;
#X connect 16 0 29 0;
#X connect 17 0 16 0;
#X connect 17 0 22 0;
#X connect 20 0 29 0;
#X connect 21 0 15 0;
#X connect 21 0 28 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 1;
#X connect 26 0 2 0;
#X connect 28 0 24 1;
#X restore 222 664 pd fft;
#X text 263 611 <-- graph once;
#X text 282 637 <-- repeatedly;
#X obj 166 652 hip~ 5;
#X obj 70 599 r vol;
#X obj 70 710 *~;
#X obj 915 361 pack 0 30;
#X obj 70 664 line~;
#X msg 70 629 \$1 5;
#X floatatom 600 71 5 0 0 0 - - - 0;
#X obj 875 120 hsl 170 20 -50 50 0 1 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 4700 0;
#X floatatom 981 163 5 0 0 0 - - - 0;
#X obj 1005 341 + 30;
#X obj 1005 374 * 3;
#X obj 912 211 moses -40;
#X obj 682 218 unpack f f;
#X floatatom 774 246 5 0 0 0 - - - 0;
#X obj 712 424 s ser;
#X obj 556 23 r ser;
#X floatatom 642 245 5 0 0 0 - - - 0;
#X obj 712 366 / 10;
#X obj 712 396 + 150;
#N canvas 0 0 1184 716 (subpatch) 0;
#X array array2 256 float 1;
#A 0 1523 1526 1519 1521 1523 1524 1522 1522 1523 1520 1522 1524 1522 1522 1523 1522 1524 1524 1524 1523 1521 1524 1522 1523 1523 1523 1524 1523 1522 1521 1522 1521 1521 1525 1524 1523 1523 1524 1525 1523 1523 1522 1523 1524 1522 1523 1525 1523 1524 1522 1521 1523 1523 1525 1522 1519 1523 1523 1524 1525 1524 1522 1525 1521 1523 1524 1519 1525 1524 1523 1523 1524 1522 1523 1521 1521 1524 1524 1525 1524 1527 1526 1523 1523 1525 1524 1524 1524 1520 1523 1522 1523 1523 1524 1524 1522 1526 1524 1525 1522 1521 1523 1523 1521 1522 1523 1525 1523 1522 1522 1522 1522 1523 1523 1524 1523 1521 1523 1523 1520 1521 1523 1523 1522 1524 1523 1521 1524 1523 1522 1524 1525 1523 1524 1522 1523 1523 1523 1520 1525 1522 1523 1524 1522 1521 1524 1527 1522 1524 1524 1523 1522 1523 1522 1522 1526 1523 1524 1524 1523 1522 1523 1523 1525 1522 1524 1523 1524 1523 1522 1522 1522 1524 1522 1521 1524 1521 1526 1524 1524 1523 1523 1523 1524 1523 1524 1525 1521 1524 1523 1524 1525 1523 1525 1522 1523 1521 1522 1525 1525 1520 1525 1517 1524 1523 1521 1521 1522 1522 1521 1523 1523 1523 1526 1521 1522 1522 1521 1524 1523 1524 1522 1521 1526 1522 1524 1522 1521 1522 1523 1521 1524 1523 1523 1525 1524 1524 1525 1523 1524 1522 1523 1523 1523 1524 1525 1524 1523 1523 1521 1520 1523 1524 1521 1523 1522;
#X coords 0 4150 255 -50 256 160 1 0 0;
#X restore 666 528 graph;
#X obj 667 480 tabwrite array2;
#X obj 642 275 / 50;
#X obj 956 549 bng 50 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 955 523 moses 800;
#X obj 683 167 ./Arduino_Pd/serial_print;
#X connect 2 0 5 0;
#X connect 5 0 80 0;
#X connect 6 0 7 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 8 0 4 1;
#X connect 8 0 76 1;
#X connect 9 0 6 0;
#X connect 10 0 5 0;
#X connect 11 0 5 0;
#X connect 12 0 8 0;
#X connect 15 0 14 0;
#X connect 15 0 62 0;
#X connect 15 0 67 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 19 0 65 0;
#X connect 19 0 59 0;
#X connect 20 0 21 0;
#X connect 21 0 59 0;
#X connect 22 0 59 0;
#X connect 23 0 53 0;
#X connect 23 0 56 0;
#X connect 24 0 25 0;
#X connect 25 0 47 0;
#X connect 26 0 46 0;
#X connect 26 0 48 0;
#X connect 31 0 34 0;
#X connect 32 0 33 1;
#X connect 33 0 36 1;
#X connect 34 0 35 0;
#X connect 35 0 32 0;
#X connect 36 0 23 0;
#X connect 40 0 53 1;
#X connect 41 0 53 2;
#X connect 46 0 49 0;
#X connect 47 0 46 0;
#X connect 47 1 46 1;
#X connect 48 0 33 0;
#X connect 49 0 36 0;
#X connect 56 0 58 0;
#X connect 57 0 61 0;
#X connect 58 0 39 0;
#X connect 59 0 17 0;
#X connect 60 0 58 1;
#X connect 61 0 60 0;
#X connect 63 0 64 0;
#X connect 63 0 67 1;
#X connect 65 0 66 0;
#X connect 67 0 20 0;
#X connect 67 1 13 0;
#X connect 67 1 19 0;
#X connect 67 1 22 0;
#X connect 68 0 9 0;
#X connect 68 0 72 0;
#X connect 68 0 76 0;
#X connect 68 1 69 0;
#X connect 68 1 4 0;
#X connect 68 1 73 0;
#X connect 68 1 79 0;
#X connect 71 0 16 0;
#X connect 72 0 77 0;
#X connect 73 0 74 0;
#X connect 74 0 70 0;
#X connect 77 0 26 0;
#X connect 79 1 78 0;
#X connect 80 0 68 0;
